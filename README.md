# Signal Dashboard (Flask + SQLite)

–ü—Ä–æ—Å—Ç–∏–π, —Å—Ç–∞–±—ñ–ª—å–Ω–∏–π –≤–µ–±‚Äë—Å–µ—Ä–≤–µ—Ä –¥–ª—è –ø—Ä–∏–π–æ–º—É, –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è —Ç–∞ –≤—ñ–¥–æ–±—Ä–∞–∂–µ–Ω–Ω—è —Å–∏–≥–Ω–∞–ª—ñ–≤.

–ü—Ä–æ—î–∫—Ç –æ—Ä—ñ—î–Ω—Ç–æ–≤–∞–Ω–∏–π –Ω–∞ **Orange Pi Zero 3 / ARM**, –ø—Ä–∞—Ü—é—î –Ω–∞ **Ubuntu 24.04**, –±–µ–∑ WebSocket / SSE ‚Äî —Ç—ñ–ª—å–∫–∏ –Ω–∞–¥—ñ–π–Ω–∏–π HTTP + SQLite.

---

## ‚ú® –ú–æ–∂–ª–∏–≤–æ—Å—Ç—ñ

* üìä Dashboard —É —Ç–µ–º–Ω—ñ–π —Ç–µ–º—ñ (cards)
* üìù –§–æ—Ä–º–∞ –≤–≤–µ–¥–µ–Ω–Ω—è —Å–∏–≥–Ω–∞–ª—ñ–≤ (`title`, `value`)
* ‚è± –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∏–π timestamp
* üíæ –ó–±–µ—Ä–µ–∂–µ–Ω–Ω—è –≤ SQLite
* üîå REST API (`GET` / `POST`)
* üöÄ –ü—ñ–¥—Ç—Ä–∏–º–∫–∞ Gunicorn (production-ready)

---

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ—î–∫—Ç—É

```
project/
‚îú‚îÄ‚îÄ app.py
‚îú‚îÄ‚îÄ data.db
‚îú‚îÄ‚îÄ requirements.txt
‚îú‚îÄ‚îÄ templates/
‚îÇ   ‚îî‚îÄ‚îÄ index.html
‚îî‚îÄ‚îÄ static/
    ‚îú‚îÄ‚îÄ css/
    ‚îÇ   ‚îî‚îÄ‚îÄ style.css
    ‚îî‚îÄ‚îÄ js/
        ‚îî‚îÄ‚îÄ main.js
```

---

## ‚öôÔ∏è –í–∏–º–æ–≥–∏

* Python **3.10+** (–ø–µ—Ä–µ–≤—ñ—Ä–µ–Ω–æ –Ω–∞ 3.12)
* pip
* virtualenv (—Ä–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–æ)

---

## üì¶ –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è

### 1Ô∏è‚É£ –ö–ª–æ–Ω—É–≤–∞–Ω–Ω—è / –∫–æ–ø—ñ—é–≤–∞–Ω–Ω—è –ø—Ä–æ—î–∫—Ç—É

```bash
cd ~
mkdir project
cd project
```

(—Å–∫–æ–ø—ñ—é–≤–∞—Ç–∏ —Ñ–∞–π–ª–∏ –ø—Ä–æ—î–∫—Ç—É)

---

### 2Ô∏è‚É£ –°—Ç–≤–æ—Ä–µ–Ω–Ω—è virtualenv

```bash
python3 -m venv venv
source venv/bin/activate
```

---

### 3Ô∏è‚É£ –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è –∑–∞–ª–µ–∂–Ω–æ—Å—Ç–µ–π

```bash
pip install -r requirements.txt
```

`requirements.txt`:

```txt
flask
gunicorn
```

---

## ‚ñ∂Ô∏è –ó–∞–ø—É—Å–∫

### üîπ –†–µ–∂–∏–º —Ä–æ–∑—Ä–æ–±–∫–∏ (debug)

```bash
python app.py
```

–í—ñ–¥–∫—Ä–∏—Ç–∏ —É –±—Ä–∞—É–∑–µ—Ä—ñ:

```
http://<IP>:5000
```

---

### üîπ Production (Gunicorn)

```bash
gunicorn -w 1 -b 0.0.0.0:5000 app:app
```

> ‚ö†Ô∏è –†–µ–∫–æ–º–µ–Ω–¥—É—î—Ç—å—Å—è **1 worker** –¥–ª—è SQLite

---

## üîå API

### ‚û§ –û—Ç—Ä–∏–º–∞—Ç–∏ –æ—Å—Ç–∞–Ω–Ω—ñ —Å–∏–≥–Ω–∞–ª–∏

```
GET /api/signals
```

–í—ñ–¥–ø–æ–≤—ñ–¥—å:

```json
[
  {
    "id": 1,
    "title": "Temperature",
    "value": 23.5,
    "created_at": "2026-01-10 15:30:00"
  }
]
```

---

### ‚û§ –î–æ–¥–∞—Ç–∏ —Å–∏–≥–Ω–∞–ª

```
POST /api/signals
Content-Type: application/json
```

–¢—ñ–ª–æ:

```json
{
  "title": "Voltage",
  "value": 12.4
}
```

–í—ñ–¥–ø–æ–≤—ñ–¥—å:

```json
{"status": "ok"}
```

---

## üß† –ê—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–Ω—ñ —Ä—ñ—à–µ–Ω–Ω—è

* SQLite –∑ **–∞–±—Å–æ–ª—é—Ç–Ω–∏–º —à–ª—è—Ö–æ–º** (safe –¥–ª—è gunicorn)
* –Ü–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—è –ë–î –ø—Ä–∏ —ñ–º–ø–æ—Ä—Ç—ñ –º–æ–¥—É–ª—è
* –ë–µ–∑ WebSocket / SSE (–º–∞–∫—Å–∏–º–∞–ª—å–Ω–∞ —Å—Ç–∞–±—ñ–ª—å–Ω—ñ—Å—Ç—å)
* –ß–∏—Å—Ç–µ —Ä–æ–∑–¥—ñ–ª–µ–Ω–Ω—è: `HTML / CSS / JS`

---

## üõ° –¢–∏–ø–æ–≤—ñ –ø—Ä–æ–±–ª–µ–º–∏

| –°–∏–º–ø—Ç–æ–º          | –ü—Ä–∏—á–∏–Ω–∞        | –†—ñ—à–µ–Ω–Ω—è                            |
| ---------------- | -------------- | ---------------------------------- |
| 500 + HTML       | –ë–î –Ω–µ —Å—Ç–≤–æ—Ä–µ–Ω–∞ | `init_db()` –ø—Ä–∏ —Å—Ç–∞—Ä—Ç—ñ             |
| `<doctype>` —É JS | API –≤–ø–∞–ª–æ      | –ø–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ `/api/signals`          |
| DB –Ω–µ –∑–Ω–∞–π–¥–µ–Ω–∞   | –≤—ñ–¥–Ω–æ—Å–Ω–∏–π —à–ª—è—Ö | –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è `os.path.abspath` |

---

## üöÄ –ú–æ–∂–ª–∏–≤—ñ –ø–æ–∫—Ä–∞—â–µ–Ω–Ω—è

* üîÑ –∞–≤—Ç–æ–æ–Ω–æ–≤–ª–µ–Ω–Ω—è (polling)
* üìà –≥—Ä–∞—Ñ—ñ–∫–∏ (Chart.js)
* üîí systemd –∞–≤—Ç–æ–∑–∞–ø—É—Å–∫
* üß™ `/health` endpoint
* üßØ –ª–æ–≥—É–≤–∞–Ω–Ω—è

---

## üë§ –ê–≤—Ç–æ—Ä

–ü—Ä–æ—î–∫—Ç –∑—ñ–±—Ä–∞–Ω–∏–π —Ç–∞ –≤—ñ–¥–ª–∞–≥–æ–¥–∂–µ–Ω–∏–π —É –ø—Ä–æ—Ü–µ—Å—ñ —Ä–µ–∞–ª—å–Ω–æ—ó —Ä–æ–±–æ—Ç–∏ –Ω–∞ Orange Pi.

---

‚úÖ **–°—Ç–∞–Ω: —Å—Ç–∞–±—ñ–ª—å–Ω–∞ –≤–µ—Ä—Å—ñ—è, –≥–æ—Ç–æ–≤–∞ –¥–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è**
